<div class="p-dialog-header p-px-0">
  <span class="p-dialog-title">{{ title }}</span>
  <div class="p-dialog-header-icons">
    <button type="button" class="p-dialog-header-icon p-dialog-header-maximize p-link" (click)="cancel()">
      <span class="p-dialog-header-close-icon pi pi-times"></span>
    </button>
  </div>
</div>
<div class="p-grid p-fluid p-dialog-body p-mt-2">
  <div class="p-col-12">
    <h3 class="title-Or">THÔNG TIN CƠ BẢN</h3>
  </div>
  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="code" />
        <label for="inputtext">Mã đơn vị<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('code')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="t24Code" />
        <label for="inputtext">Mã t24</label>
      </span>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="vietnameseName" />
        <label for="inputtext">Tên tiếng việt(VIE)<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('vietnameseName')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="englishName" />
        <label for="inputtext">Tên tiếng anh(EN)<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('englishName')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="organizationCode" />
        <label for="inputtext">Mã mô hình<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('organizationCode')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="parentCode" />
        <label for="inputtext">Đơn vị cha<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('parentCode')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-dropdown
          [options]="state!.listGroupCode"
          formControlName="groupCode"
          optionLabel="name"
          optionValue="code"
          placeholder="Nhóm đơn vị"
        ></p-dropdown>
        <label for="inputtext">Nhóm đơn vị<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('groupCode')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="versionCode" />
        <label for="inputtext">Phiên bản tổ chức(MHTC)<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('versionCode')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="codeCenter" />
        <label for="inputtext">Cost center<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('codeCenter')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" pInputText formControlName="sortOrder" />
        <label for="inputtext">Thứ tự hiển thị<span style="color: red">*</span></label>
      </span>
      <f-errors [errors]="form.get('sortOrder')"></f-errors>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-radioButton name="inDomestric" value="true" formControlName="inDomestric" id="inDomestric1"></p-radioButton>
        <label class="titleRadio" for="inDomestric1">Trong nước</label>
      </span>
    </div>
    <div class="p-field">
      <span class="p-float-label">
        <p-radioButton name="inDomestric" value="false" formControlName="inDomestric" id="inDomestric2"></p-radioButton>
        <label class="titleRadio" for="inDomestric2">Ngoài nước</label>
      </span>
    </div>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-dropdown
          [options]="state!.listworkLocation"
          formControlName="workLocation"
          optionLabel="vnName"
          optionValue="code"
          placeholder="Trụ sở làm việc"
        ></p-dropdown>
        <label for="inputtext">Trụ sở làm việc</label>
      </span>
    </div>
  </div>

  <div class="p-col-12">
    <h3 class="title-Or">TÌNH TRẠNG HOẠT ĐỘNG</h3>
  </div>

  <div class="p-col-12 p-md-3" [formGroup]="form">
    <div class="p-field-checkbox">
      <p-checkbox formControlName="status" [binary]="true" inputId="ny"></p-checkbox>
      <label for="inputtext">Đơn vị đang hoạt động</label>
    </div>
  </div>

  <div class="p-col-12 p-md-1" [formGroup]="form">
    <div class="p-field-checkbox">
      <p-checkbox name="group1" formControlName="inDomestric" [binary]="true" inputId="ny"></p-checkbox>
      <label for="ny">Trùng MHTC</label>
    </div>
  </div>
  <div class="p-col-12 p-md-2" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-calendar
          [readonlyInput]="true"
          dateFormat="dd/mm/yy"
          formControlName="startDate"
          [showIcon]="true"
          inputId="icon"
          appendTo="body"
        >
        </p-calendar>
        <label for="inputtext">Hiệu lực từ ngày</label>
      </span>
    </div>
  </div>

  <div class="p-col-12 p-md-1" [formGroup]="form">
    <div class="p-field-checkbox">
      <p-checkbox name="group1" formControlName="inDomestric" [binary]="true" inputId="ny"></p-checkbox>
      <label for="ny">Trùng MHTC</label>
    </div>
  </div>
  <div class="p-col-12 p-md-2" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-calendar
          [readonlyInput]="true"
          dateFormat="dd/mm/yy"
          formControlName="endDate"
          [showIcon]="true"
          inputId="icon"
          appendTo="body"
        >
        </p-calendar>
        <label for="inputtext">Hiệu lực đến ngày</label>
      </span>
    </div>
  </div>

  <div class="p-col-12 p-md-2" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-checkbox formControlName="hasParentAddress" [binary]="true"></p-checkbox>
        <label style="margin-left: 1rem" for="inputtext"
          >Cùng địa chỉ đơn vị cha<span style="color: red">*</span></label
        >
      </span>
      <f-errors [errors]="form.get('hasParentAddress')"></f-errors>
    </div>
  </div>

  <div class="p-col-12">
    <h3 class="title-Or">Địa chỉ</h3>
  </div>

  <div *ngIf="form.value?.inDomestric === 'true'" class="p-col-12 p-md-2" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-dropdown
          [options]="state!.countryList"
          (onChange)="onChange($event, 'countryCode')"
          formControlName="countryCode"
          optionLabel="name"
          optionValue="code"
          placeholder="Quốc gia"
        ></p-dropdown>
        <label for="inputtext">Quốc gia</label>
      </span>
    </div>
  </div>
  <div *ngIf="form.value?.inDomestric === 'true'" class="p-col-12 p-md-2" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-dropdown
          [options]="this.provinceList"
          (onChange)="onChange($event, 'provinceCode')"
          formControlName="provinceCode"
          optionLabel="name"
          optionValue="code"
        ></p-dropdown>

        <label for="inputtext">Tỉnh/Thành <span style="color: red">*</span></label>
      </span>
    </div>
  </div>
  <div *ngIf="form.value?.inDomestric === 'true'" class="p-col-12 p-md-2" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-dropdown
          [options]="this.districtList"
          (onChange)="onChange($event, 'districtCode')"
          formControlName="districtCode"
          optionLabel="name"
          optionValue="code"
        ></p-dropdown>

        <label for="inputtext">Quận/Huyện <span style="color: red">*</span></label>
      </span>
    </div>
  </div>
  <div *ngIf="form.value?.inDomestric === 'true'" class="p-col-12 p-md-2" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <p-dropdown
          [options]="this.wardList"
          (onChange)="onChange($event, 'wardCode')"
          formControlName="wardCode"
          optionLabel="name"
          optionValue="code"
        ></p-dropdown>

        <label for="inputtext">Xã/Phường <span style="color: red">*</span></label>
      </span>
    </div>
  </div>

  <div *ngIf="form.value?.inDomestric === 'true'" class="p-col-12 p-md-4" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" class="p-inputtext-sm" pInputText formControlName="address" />
        <label for="inputtext">Địa chỉ cụ thể<span style="color: red">*</span></label>
      </span>
    </div>
  </div>

  <div *ngIf="form.value?.inDomestric === 'false'" class="p-col-12 p-md-4" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <input type="text" class="p-inputtext-sm" pInputText formControlName="address" />
        <label for="inputtext">Địa chỉ cụ thể<span style="color: red">*</span></label>
      </span>
    </div>
  </div>

  <div class="p-col-12">
    <h3 class="title-Or">THÔNG TIN KHÁC</h3>
  </div>

  <div class="p-col-12" [formGroup]="form">
    <div class="p-field">
      <span class="p-float-label">
        <textarea id="float-input" rows="2" formControlName="note" pInputTextarea></textarea>
        <label for="float-input">Ghi chú</label>
      </span>
    </div>
  </div>
</div>
<div class="p-dialog-footer p-p-0 p-mt-3">
  <button *ngIf="screenType !== 2" pButton (click)="save()" label="Lưu" icon="pi pi-check" class="p-mr-2"></button>
  <button pButton (click)="cancel()" label="Đóng" icon="pi pi-times" class="p-button-danger"></button>
</div>
